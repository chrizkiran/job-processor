{erl_opts, [debug_info, warnings_as_errors, warn_export_all, warn_unused_import]}.

{deps, [
    {jsx, "3.1.0"},
    {cowboy, "2.12.0"}
]}.

{profiles, [
    {test, [
        {erl_opts, [debug_info, export_all, nowarn_export_all]},
        {deps, [
            {meck, "0.9.2"}  %% For mocking in tests
        ]}
    ]}
]}.

%% Dialyzer configuration
{dialyzer, [
    {warnings, [
        unmatched_returns,
        error_handling,
        unknown
    ]},
    {plt_apps, top_level_deps},
    {plt_extra_apps, [jsx, cowboy]}
]}.

%% EUnit configuration
{eunit_opts, [
    verbose,
    {report, {eunit_surefire, [{dir, "."}]}}
]}.

%% Coverage configuration
{cover_enabled, true}.
{cover_opts, [verbose]}.
{cover_excl_mods, [job_processor_SUITE]}.

{shell, [
    %% {config, "config/sys.config"},
    {apps, [job_processor]}
]}.
